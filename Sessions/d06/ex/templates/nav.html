{% load static %}
<nav class="container-fluid">
  <script>
    function fetchUsername() {
      fetch('/api/get_username')
        .then(response => response.json())
        .then(data => {
          document.getElementById('random-name').innerText = data.username;
        }
      );
    }

    {% if not user.is_authenticated %}
    setInterval(fetchUsername, 4200); // 42 seconds
    <a href="{% url 'login' %}">Log In</a>
    {% endif %}
    window.onload = fetchUsername; // Fetch name on page load
  </script>

  <p>Hello <span id="random-name">Annonymous</span>!</p>

  {% if not user.is_authenticated %}
  <a href="{% url 'login' %}">Log In</a>
  {% endif %}
</nav>